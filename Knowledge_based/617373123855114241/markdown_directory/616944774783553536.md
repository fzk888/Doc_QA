**GIDC银河智能开发云平台性能测试报告**

测试人员：邓国祥

测试时间：2021-5-21

目录

目录 2

[1. 测试概念 2](\l)

[1.1测试对象 2](\l)

[1.2测试范围 2](\l)

[1.3测试目的 2](\l)

[1.4参考文档 2](\l)

[2. 功能测试 2](\l)

[2.1测试方法 2](\l)

[2.2测试环境 2](\l)

[2.3测试结果 3](\l)

[2.3.1Bug等级定义 3](\l)

[2.3.2场景及图表数据 3](\l)

[2.3.3测试结果说明 5](\l)

[3. 测试结论 6](\l)

[3.1结论 6](\l)

[3.2建议 6](\l)

**\
**

**目录**

**测试概念**
============

1.1测试对象 {#测试对象 .29}
-----------

测试对象为GIDC银河智能开发云平台

1.2测试范围 {#测试范围 .29}
-----------

本次测试覆盖的范围包括：压力测试、性能测试

1.3测试目的 {#测试目的 .29}
-----------

目的在于总结测试阶段的测试以及分析测试结果，描述系统是否符合需求。总结各轮次的测试情况，分析测试数据，归纳测试工作进行过程中暴露的问题与遗留的风险，给出相应的测试建议以供后续项目参考。

1.4参考文档 {#参考文档 .29}
-----------

暂无需求文档说明书。

**功能测试**
============

2.1测试方法 {#测试方法 .29}
-----------

本次测试方法包括：压力测试、性能测试

2.2测试环境 {#测试环境 .29}
-----------

当前的测试服务器配置如下：

  -------------- -------------- -------- ----------------------------- -----------------------------------------------------
  应用           公网IP         内网IP   操作系统                      CPU/内存

  MySQL 5.7.23   192.168.70.2   \--      CentOS Linux 7.2.1511 64bit   Intel(R) Xeon(R) Platinum 8163 CPU @ 2.50GHz\_16核\
                                                                       MemTotal 62G
  -------------- -------------- -------- ----------------------------- -----------------------------------------------------

2.3测试结果 {#测试结果 .29}
-----------

### 2.3.1Bug等级定义

崩溃性：系统崩溃，数据丢失，数据毁坏，该类问题会导致软件无法正确运行，整体功能受到影响；

严重性：重要功能无法实现且不存在其他替代途径实现该功能，或者操作性错误、错误结果、遗漏功能；

一般性：功能没有按照预定方法实现，但存在其他合理途径实现该功能；

提示性：界面不美观、文字不易懂、错别字、使操作者不方便等问题，但不影响功能的实现；

### 2.3.2场景及图表数据

1.  GIDC并发测试。

场景设计一：获取APP应用资源---获取离线包资源---获取启动图资源---获取运营页面资源---获取运营主题资源---同时获取启动图-APP应用-离线包资源接口

+-----------------+-----------------+-----------------+-----------------+
| **用例编号**    | WMS\_01         | **用例名称**    | 大量用户资源获取 |
+-----------------+-----------------+-----------------+-----------------+
| **测试步骤**    | 1、利用JMeter生成脚本， |         |                 |
|                 | 分别添加：      |                 |                 |
|                 |                 |                 |                 |
|                 | 1.1获取APP应用资源\ |             |                 |
|                 |                 |                 |                 |
|                 | 1.2获取离线包资源 |               |                 |
|                 |                 |                 |                 |
|                 |                 |                 |                 |
|                 | 1.3获取启动图资源 |               |                 |
|                 |                 |                 |                 |
|                 |                 |                 |                 |
|                 | 1.4获取运营页面资源 |             |                 |
|                 |                 |                 |                 |
|                 |                 |                 |                 |
|                 | 1.5获取运营主题资源 |             |                 |
|                 |                 |                 |                 |
|                 |                 |                 |                 |
|                 | 1.6同时获取启动图-APP应 |         |                 |
|                 | 用-离线包资源接口 |               |                 |
|                 |                 |                 |                 |
|                 |                 |                 |                 |
|                 | 2、运行测试，Jmeter |             |                 |
|                 |                 |                 |                 |
|                 | ServerAgent监控各个 |             |                 |
|                 | 服务器的资源占用情况 |            |                 |
|                 |                 |                 |                 |
|                 |                 |                 |                 |
|                 | 3、记录测试结果 |                 |                 |
+-----------------+-----------------+-----------------+-----------------+
| **场景设计**    | 1、设置单操作为获取资源 |         |                 |
|                 |                 |                 |                 |
|                 |                 |                 |                 |
|                 | 2、并发500个用户持续120 |         |                 |
|                 | 0秒；\          |                 |                 |
|                 | 并发600个用户持续1200秒 |         |                 |
|                 | ；\             |                 |                 |
|                 | 并发700个用户持续1200秒 |         |                 |
|                 | ；              |                 |                 |
|                 |                 |                 |                 |
|                 | 并发800个用户持续1200秒 |         |                 |
|                 | 。              |                 |                 |
|                 |                 |                 |                 |
|                 | 3、运行场景，在Jmeter上 |         |                 |
|                 | 观察测试过程的各项数据 |          |                 |
|                 |                 |                 |                 |
|                 |                 |                 |                 |
|                 | 4、若结果符合预期，则增加总用 |   |                 |
|                 | 户数，继续运行场景。否则停止测 |  |                 |
|                 | 试分析原因并收集测试数据以便调 |  |                 |
|                 | 优              |                 |                 |
+-----------------+-----------------+-----------------+-----------------+
| **预期结果**    | 1、随着用户数的增加，平均响应 |   |                 |
|                 | 时间一直不超过5秒 |               |                 |
|                 |                 |                 |                 |
|                 |                 |                 |                 |
|                 | 2、CPU、物理内存使用率一直 |      |                 |
|                 | 不高于80%，测试结束后使用率 |     |                 |
|                 | 开始回落接近未测试时 |            |                 |
|                 |                 |                 |                 |
|                 |                 |                 |                 |
|                 | 3、无网络带宽、磁盘瓶颈 |         |                 |
|                 |                 |                 |                 |
|                 |                 |                 |                 |
|                 | 4、错误率\<1%(需要分析错 |        |                 |
|                 | 误的原因)       |                 |                 |
|                 |                 |                 |                 |
|                 | 5、满足上述结果支持500、6 |       |                 |
|                 | 00、700、800个用户同时 |          |                 |
|                 | 查询、操作      |                 |                 |
|                 |                 |                 |                 |
|                 | 6、测试最后不能出现查询失败的 |   |                 |
|                 | 现象            |                 |                 |
+-----------------+-----------------+-----------------+-----------------+

图片识别内容
192.168.40.3 CPU
192.168.40.3 Disks I/O
192.168.40.3 Memory
200
180
160
Metrcs
140
120
nce
100
08
60
40
DAAVWAITA
20
MWM
00:00:00
00:02:00
00:04:00
00:06:00
00:08:00
00:10:00
00:12:00
00:14:00
00:16:00
00:18:00
00:20:00
Elapsed time (granularity:1sec)


图片识别内容
Label
#样本
平均值
中位数
90%百分位
95%百分位
99%百分位
最小值
最大值
异常 %
吞吐量
接收KB/sec
发送KB/sec
APP应用资源
300551
27
16
36
43
63
2
21538
0.19%
250.5/sec
129.50
93.17
离线资源
300499
40
29
64
77
111
2
21532
0.14%
250.5/sec
164.65
94.66
获取启动图..
300395
28
12
34
45
77
2
21534
0.16%
250.5/sec
100.26
58.93
获取运营页.
300335
21
12
41
50
74
2
21308
0.08%
250.5/sec
528.84
74.86
运营主题资源
300233
23
12
31
38
56
2
21536
0.15%
250.5/sec
69.18
69.45
启动页资源.
300146
54
40
92
108
150
2
21532
0.15%
250.5/sec
286.54
108.83
总体
1802159
32
18
55
72
114
2
21538
0.14%
1502.0/sec
1277.97
499.56


> 500并发持续1200秒数据图

图片识别内容
192.168.40.3 CPU
192.168.40.3 Disks I/O
192.168.40.3 Memory
300
270
240
Metrics
210
180
150
120
90
60
30
00:00:00
00:02:00
00:04:00
00:06:00
00:08:00
00:10:00
00:12:00
00:14:00
00:16:00
00:18:00
00:20:00
Elapsed time (granularity: 1 sec)


图片识别内容
Label
#样本
平均值
中位数
90%百分位
95%百分位
99%百分位
最小值
最大值
异常%
吞吐量
接收KB/sec
发送KB/sec
APP应用资源
354837
27
23
46
54
74
3
19128
0.01%
295.7/sec
152.78
110.04
离线资源
354686
47
42
85
101
134
6
19128
0.01%
295.7/sec
194.31
111.76
获取.启动图..
354651
26
17
51
68
105
3
19136
0.02%
295.8/sec
118.13
69.60
获取运营页..
354559
30
24
56
65
87
4
7112
0.00%
295.8/sec
624.68
88.38
运营主题资源
354474
24
20
42
50
67
3
19134
0.01%
295.8/sec
81.46
82.03
启动页资源-
354316
72
66
126
145
188
8
19119
0.01%
295.7/sec
338.39
128.50
总体
2127523
38
27
77
100
146
3
19136
0.01%
1773.2/sec
1508.53
589.89


> 600并发持续1200秒数据图

图片识别内容
192.168.40.3 CPU
192.168.40.3 Disks I/O
192.168.40.3 Memory
400
360
320
Performance Metrics
280
240
200
160
120
80
40
00:00:00
口
00:02:00
00:04:00
00:06:00
00:08:00
00:10:00
00:1 2:00
00:14:00
00:16:00
00:18:00
00:20:00
Elapsed time(granularity:1sec)


图片识别内容
Label
#样本
平均值
中位数
90%百分位
95%百分位
99%百分位
最小值
最大值
异常 %
吞吐量
接收 KB/seC
发送KB/sec
APP应用资源
396698
35
29
51
60
87
3
15077
0.01%
330.6/sec
170.79
123.02
离线资源
396612
67
63
111
130
182
3
1221
0.01%
330.7/sec
217.28
124.96
获取启动图
396469
37
27
75
96
153
3
15013
0.01%
330.6/sec
132.05
77.81
获取运营页.
396387
43
42
68
78
104
2
15041
0.00%
330.6/sec
698.37
98.81
运营主题资源
396274
30
28
50
58
77
3
1193
0.01%
330.7/sec
91.06
91.71
启动页资源-.
396176
103
98
168
195
268
3
1211
0.01%
330.7/sec
378.40
143.69
总体
2378616
53
40
106
135
202
2
15077
0.01%
1982.4/sec
1686.58
659.52


> 700并发持续1200秒数据图

图片识别内容
192.168.40.3 CPU
192.168.40.3 Disks I/O
192.168.40.3 Memory (x10)
600
540
480
Metrics
420
360
rformance
300
240
180
120
60
00:00:00
口
00:02:00
00:04:00
00:06:00
00:08:00
00:10:00
00:12:00
00:14:00
00:16:00
00:18:00
00:20:00
Elapsed time(granularity:1 sec)


图片识别内容
Label
#样本
平均值
中位数
90%百分位
95%百分位
99%百分位
最小值
最大值
异常%
吞吐量
接收KB/sec
发送 KB/sec
APP应用资源
420550
43
37
61
71
109
2
21010
1.21%
350.5/sec
180.40
130.40
离线资源
420448
66
93
144
163
219
2
20999
0.98%
350.5/sec
229.29
132.46
获取启动图
420301
73
62
131
160
237
2
21003
0.85%
350.5/sec
139.84
82.48
获取运营页..
420164
59
55
83
92
120
2
21004
0.75%
350.4/sec
735.61
104.72
运营主题资源
420041
40
37
60
68
90
2
21003
1.15%
350.4/sec
96.79
97.19
启动页资源-.
419902
168
162
241
271
349
2
21001
0.92%
350.4/sec
398.48
152.28
总体
2521406
80
60
164
201
276
2
21010
0.98%
2101.3/sec
1779.02
699.06


> 800并发持续1200秒数据图

### 2.3.3测试结果说明

1.场景：获取APP应用资源---获取离线包资源---获取启动图资源---获取运营页面资源---获取运营主题资源---同事获取启动图-APP应用-离线包资源接口

2.
获取资源，1秒启动500个线程、1秒启动600个线程、1秒启动700个线程；、1秒启动800个线程；\
3. 从结果看\
1秒启动500个线程持续1200秒平均响应时间为0.032秒，最大响应时间为21.538秒，失败率为0.14%；\
1秒启动600个线程持续1200秒平均响应时间为0.038秒，最大响应时间为19.136秒，失败率为0.01%；

1秒启动700个线程持续1200秒平均响应时间为0.053秒，最大响应时间为15.077秒，失败率为0.01%；

1秒启动800个线程持续1200秒平均响应时间为0.080秒，最大响应时间为21.010秒，失败率为0.98%；

**测试结论**
============

3.1结论 {#结论 .29}
-------

1.获取资源场景接口压力测试表明资源cpu使用率均低于90%，memory比较稳定，磁盘IO性能表现不稳定。

3.2建议 {#建议 .29}
-------

1.从压测结果看有磁盘IO稳定性不足；

2.开发可从服务器上继续优化使当前性能下支持更大的并发；

